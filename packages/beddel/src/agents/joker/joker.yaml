# Joker Agent - Simple Response Agent for Beddel Runtime
# Route: /agents/joker
# Method: joker.execute

agent:
  id: joker
  version: 1.0.0
  protocol: beddel-declarative-protocol/v2.0

metadata:
  name: "Joker Agent"
  description: "Tells jokes using Gemini Flash"
  category: "utility"
  route: "/agents/joker"

schema:
  input:
    type: "object"
    properties: {}
    required: []

  output:
    type: "object"
    properties:
      response:
        type: "string"
    required: ["response"]

logic:
  workflow:
    - name: "generate-joke"
      type: "genkit-joke"
      action:
        type: "joke"
        prompt: "Tell a short and original joke that works for any audience."
        result: "jokerResult"

    - name: "deliver-response"
      type: "output-generator"
      action:
        type: "generate"
        output:
          response: "$jokerResult.text"

output:
  schema:
    response: "$jokerResult.text"
